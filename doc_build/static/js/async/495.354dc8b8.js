"use strict";(self.webpackChunkrepress_demo=self.webpackChunkrepress_demo||[]).push([["495"],{8514:function(e,n,r){r.r(n),r.d(n,{default:()=>l});var s=r(2676),d=r(453);function i(e){let n=Object.assign({h1:"h1",a:"a",div:"div",p:"p",strong:"strong",h2:"h2",ul:"ul",li:"li",code:"code",pre:"pre"},(0,d.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"安卓-70-以上的触摸和手势模拟",children:["安卓 7.0 以上的触摸和手势模拟",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安卓-70-以上的触摸和手势模拟",children:"#"})]}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"稳定性: 稳定"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:"\n"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"注意以下命令只有 Android7.0 及以上才有效"})}),"\n",(0,s.jsxs)(n.h2,{id:"clickx-y",children:["click(x, y)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#clickx-y",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," {number} 要点击的坐标的 x 值"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"y"})," {number} 要点击的坐标的 y 值"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"模拟点击坐标(x, y)，并返回是否点击成功。只有在点击执行完成后脚本才继续执行。"}),"\n",(0,s.jsx)(n.p,{children:"一般而言，只有点击过程(大约 150 毫秒)中被其他事件中断(例如用户自行点击)才会点击失败。"}),"\n",(0,s.jsxs)(n.p,{children:["使用该函数模拟连续点击时可能有点击速度过慢的问题，这时可以用",(0,s.jsx)(n.code,{children:"press()"}),"函数代替。"]}),"\n",(0,s.jsxs)(n.h2,{id:"longclickx-y",children:["longClick(x, y)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#longclickx-y",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," {number} 要长按的坐标的 x 值"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"y"})," {number} 要长按的坐标的 y 值"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"模拟长按坐标(x, y), 并返回是否成功。只有在长按执行完成（大约 600 毫秒）时脚本才会继续执行。"}),"\n",(0,s.jsx)(n.p,{children:"一般而言，只有长按过程中被其他事件中断(例如用户自行点击)才会长按失败。"}),"\n",(0,s.jsxs)(n.h2,{id:"pressx-y-duration",children:["press(x, y, duration)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#pressx-y-duration",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x"})," {number} 要按住的坐标的 x 值"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"y"})," {number} 要按住的坐标的 y 值"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"duration"})," {number} 按住时长，单位毫秒"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"模拟按住坐标(x, y), 并返回是否成功。只有按住操作执行完成时脚本才会继续执行。"}),"\n",(0,s.jsx)(n.p,{children:"如果按住时间过短，那么会被系统认为是点击；如果时长超过 500 毫秒，则认为是长按。"}),"\n",(0,s.jsx)(n.p,{children:"一般而言，只有按住过程中被其他事件中断才会操作失败。"}),"\n",(0,s.jsx)(n.p,{children:"一个连点器的例子如下："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"//循环100次\nfor (var i = 0; i < 100; i++) {\n    //点击位置(500, 1000), 每次用时1毫秒\n    press(500, 1000, 1);\n}\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"swipex1-y1-x2-y2-duration",children:["swipe(x1, y1, x2, y2, duration)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#swipex1-y1-x2-y2-duration",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x1"})," {number} 滑动的起始坐标的 x 值"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"y1"})," {number} 滑动的起始坐标的 y 值"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"x2"})," {number} 滑动的结束坐标的 x 值"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"y2"})," {number} 滑动的结束坐标的 y 值"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"duration"})," {number} 滑动时长，单位毫秒"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"模拟从坐标(x1, y1)滑动到坐标(x2, y2)，并返回是否成功。只有滑动操作执行完成时脚本才会继续执行。"}),"\n",(0,s.jsx)(n.p,{children:"一般而言，只有滑动过程中被其他事件中断才会滑动失败。"}),"\n",(0,s.jsxs)(n.h2,{id:"gestureduration-x1-y1-x2-y2-",children:["gesture(duration, [x1, y1], [x2, y2], ...)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#gestureduration-x1-y1-x2-y2-",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"duration"})," {number} 手势的时长"]}),"\n",(0,s.jsx)(n.li,{children:"[x, y] ... 手势滑动路径的一系列坐标"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["模拟手势操作。例如",(0,s.jsx)(n.code,{children:"gesture(1000, [0, 0], [500, 500], [500, 1000])"}),"为模拟一个从(0, 0)到(500, 500)到(500, 100)的手势操作，时长为 2 秒。"]}),"\n",(0,s.jsxs)(n.h2,{id:"gesturesdelay1-duration1-x1-y1-x2-y2--delay2-duration2-x3-y3-x4-y4--",children:["gestures([delay1, duration1, [x1, y1], [x2, y2], ...], [delay2, duration2, [x3, y3], [x4, y4], ...], ...)",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#gesturesdelay1-duration1-x1-y1-x2-y2--delay2-duration2-x3-y3-x4-y4--",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"同时模拟多个手势。每个手势的参数为[delay, duration, 坐标], delay 为延迟多久(毫秒)才执行该手势；duration 为手势执行时长；坐标为手势经过的点的坐标。其中 delay 参数可以省略，默认为 0。"}),"\n",(0,s.jsx)(n.p,{children:"例如手指捏合："}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"gestures([0, 500, [800, 300], [500, 1000]], [0, 500, [300, 1500], [500, 1000]]);\n"})})]})}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}let l=x;x.__RSPRESS_PAGE_META={},x.__RSPRESS_PAGE_META["v1%2F%E5%9F%BA%E7%A1%80%2FcoordinatesBasedAutomation%2FtouchAndGestureSimulation.md"]={toc:[{text:"click(x, y)",id:"clickx-y",depth:2},{text:"longClick(x, y)",id:"longclickx-y",depth:2},{text:"press(x, y, duration)",id:"pressx-y-duration",depth:2},{text:"swipe(x1, y1, x2, y2, duration)",id:"swipex1-y1-x2-y2-duration",depth:2},{text:"gesture(duration, [x1, y1], [x2, y2], ...)",id:"gestureduration-x1-y1-x2-y2-",depth:2},{text:"gestures([delay1, duration1, [x1, y1], [x2, y2], ...], [delay2, duration2, [x3, y3], [x4, y4], ...], ...)",id:"gesturesdelay1-duration1-x1-y1-x2-y2--delay2-duration2-x3-y3-x4-y4--",depth:2}],title:"安卓 7.0 以上的触摸和手势模拟",headingTitle:"安卓 7.0 以上的触摸和手势模拟",frontmatter:{}}}}]);