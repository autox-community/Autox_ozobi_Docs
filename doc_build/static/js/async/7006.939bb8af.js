"use strict";(self.webpackChunkrepress_demo=self.webpackChunkrepress_demo||[]).push([["7006"],{1520:function(e,n,i){i.r(n),i.d(n,{default:()=>o});var c=i(2676),l=i(453);function r(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2",ul:"ul",li:"li"},(0,l.ah)(),e.components);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(n.h1,{id:"uicollection",children:["UiCollection",(0,c.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#uicollection",children:"#"})]}),"\n",(0,c.jsxs)(n.p,{children:["UiCollection, 控件集合, 通过选择器的",(0,c.jsx)(n.code,{children:"find()"}),", ",(0,c.jsx)(n.code,{children:"untilFind()"}),"方法返回的对象。"]}),"\n",(0,c.jsx)(n.p,{children:'UiCollection"继承"于数组，实际上是一个 UiObject 的数组，因此可以使用数组的函数和属性，例如使用 length 属性获取 UiCollection 的大小，使用 forEach 函数来遍历 UiCollection。'}),"\n",(0,c.jsx)(n.p,{children:"例如，采用 forEach 遍历屏幕上所有的文本控件并打印出文本内容的代码为："}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:'console.show();\r\nclassName("TextView")\r\n    .find()\r\n    .forEach(function (tv) {\r\n        if (tv.text() != "") {\r\n            log(tv.text());\r\n        }\r\n    });\n'})}),"\n",(0,c.jsx)(n.p,{children:"也可以使用传统的数组遍历方式："}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:'console.show();\r\nvar uc = className("TextView").find();\r\nfor (var i = 0; i < uc.length; i++) {\r\n    var tv = uc[i];\r\n    if (tv.text() != "") {\r\n        log(tv.text());\r\n    }\r\n}\n'})}),"\n",(0,c.jsxs)(n.p,{children:["UiCollection 的每一个元素都是 UiObject，我们可以取出他的元素进行操作，例如取出第一个 UiObject 并点击的代码为",(0,c.jsx)(n.code,{children:"ui[0].click()"}),"。如果想要对该集合的所有元素进行操作，可以直接在集合上调用相应的函数，例如",(0,c.jsx)(n.code,{children:"uc.click()"}),"，该代码会对集合上所有 UiObject 执行点击操作并返回是否全部点击成功。"]}),"\n",(0,c.jsxs)(n.p,{children:["因此，UiCollection 具有所有 UiObject 对控件操作的函数，包括",(0,c.jsx)(n.code,{children:"click()"}),", ",(0,c.jsx)(n.code,{children:"longClick()"}),", ",(0,c.jsx)(n.code,{children:"scrollForward()"}),"等等，不再赘述。"]}),"\n",(0,c.jsxs)(n.h2,{id:"uicollectionsize",children:["UiCollection.size()",(0,c.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#uicollectionsize",children:"#"})]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"返回 {number}"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"返回集合中的控件数。"}),"\n",(0,c.jsx)(n.p,{children:"历史遗留函数，相当于属性 length。"}),"\n",(0,c.jsxs)(n.h2,{id:"uicollectiongeti",children:["UiCollection.get(i)",(0,c.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#uicollectiongeti",children:"#"})]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"i"})," {number} 索引"]}),"\n",(0,c.jsxs)(n.li,{children:["返回 ",(0,c.jsx)(n.a,{href:"#uiobject",children:"UiObject"})]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"返回集合中第 i+1 个控件(UiObject)。"}),"\n",(0,c.jsx)(n.p,{children:"历史遗留函数，建议直接使用数组下标的方式访问元素。"}),"\n",(0,c.jsxs)(n.h2,{id:"uicollectioneachfunc",children:["UiCollection.each(func)",(0,c.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#uicollectioneachfunc",children:"#"})]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"func"})," {Function} 遍历函数，参数为 UiObject。"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"遍历集合。"}),"\n",(0,c.jsxs)(n.p,{children:["历史遗留函数，相当于",(0,c.jsx)(n.code,{children:"forEach"}),"。参考",(0,c.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach",target:"_blank",rel:"noopener noreferrer",children:"forEach"}),"。"]}),"\n",(0,c.jsxs)(n.h2,{id:"empty",children:["empty()",(0,c.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#empty",children:"#"})]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"返回 {Boolean}"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"返回控件集合是否为空。"}),"\n",(0,c.jsxs)(n.h2,{id:"nonempty",children:["nonEmpty()",(0,c.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#nonempty",children:"#"})]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"返回 {Boolean}"}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"返回控件集合是否非空。"}),"\n",(0,c.jsxs)(n.h2,{id:"uicollectionfindselector",children:["UiCollection.find(selector)",(0,c.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#uicollectionfindselector",children:"#"})]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"selector"})," ",(0,c.jsx)(n.a,{href:"#uiselector",children:"UiSelector"})]}),"\n",(0,c.jsxs)(n.li,{children:["返回 ",(0,c.jsx)(n.a,{href:"#uicollection",children:"UiCollection"})]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"根据 selector 所确定的条件在该控件集合的控件、子控件、孙控件...中找到所有符合条件的控件并返回找到的控件集合。"}),"\n",(0,c.jsxs)(n.p,{children:["注意这会递归地遍历控件集合里所有的控件以及他们的子控件。和数组的",(0,c.jsx)(n.code,{children:"filter"}),"函数不同。"]}),"\n",(0,c.jsx)(n.p,{children:"例如："}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-js",children:'var names = id("name").find();\r\n//在集合\r\nvar clickableNames = names.find(clickable());\n'})}),"\n",(0,c.jsxs)(n.h2,{id:"uicollectionfindoneselector",children:["UiCollection.findOne(selector)",(0,c.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#uicollectionfindoneselector",children:"#"})]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"selector"})," ",(0,c.jsx)(n.a,{href:"#uiselector",children:"UiSelector"})]}),"\n",(0,c.jsxs)(n.li,{children:["返回 ",(0,c.jsx)(n.a,{href:"#uiobject",children:"UiOobject"})]}),"\n"]}),"\n",(0,c.jsxs)(n.p,{children:["根据选择器 selector 在该控件集合的控件的子控件、孙控件...中搜索符合该选择器条件的控件，并返回找到的第一个控件；如果没有找到符合条件的控件则返回",(0,c.jsx)(n.code,{children:"null"}),"。"]})]})}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(r,{...e})}):r(e)}let o=s;s.__RSPRESS_PAGE_META={},s.__RSPRESS_PAGE_META["v1%2F%E5%9F%BA%E7%A1%80%2FwidgetsBasedAutomation%2FuiCollection.md"]={toc:[{text:"UiCollection.size()",id:"uicollectionsize",depth:2},{text:"UiCollection.get(i)",id:"uicollectiongeti",depth:2},{text:"UiCollection.each(func)",id:"uicollectioneachfunc",depth:2},{text:"empty()",id:"empty",depth:2},{text:"nonEmpty()",id:"nonempty",depth:2},{text:"UiCollection.find(selector)",id:"uicollectionfindselector",depth:2},{text:"UiCollection.findOne(selector)",id:"uicollectionfindoneselector",depth:2}],title:"UiCollection",headingTitle:"UiCollection",frontmatter:{}}}}]);