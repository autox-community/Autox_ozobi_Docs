"use strict";(self.webpackChunkrepress_demo=self.webpackChunkrepress_demo||[]).push([["3724"],{2985:function(e,r,n){n.r(r),n.d(r,{default:()=>c});var s=n(2676),d=n(453);function l(e){let r=Object.assign({h1:"h1",a:"a",div:"div",p:"p",strong:"strong",h2:"h2",ul:"ul",li:"li",code:"code",pre:"pre"},(0,d.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.h1,{id:"ocr-文档",children:["OCR 文档",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#ocr-文档",children:"#"})]}),"\n",(0,s.jsxs)(r.div,{className:"rspress-directive danger",children:[(0,s.jsx)(r.div,{className:"rspress-directive-title",children:"稳定性: 实验"}),(0,s.jsx)(r.div,{className:"rspress-directive-content",children:"\n"})]}),"\n",(0,s.jsxs)(r.h1,{id:"paddle-ocr",children:["Paddle OCR",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#paddle-ocr",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"5.6.1 新增"}),"\n基于百度飞桨的 OCR"]}),"\n",(0,s.jsxs)(r.h2,{id:"paddleocrimg-path",children:["paddle.ocr(img, path)",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#paddleocrimg-path",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"path"})," {String} 自定义模型路径,必须是绝对路径"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"return"})," {Array}"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"使用自定义模型进行文字识别"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:'// files.path() 将相对路径转为绝对路径\nlet myModelPath = files.path("./models");\nlet result = paddle.ocr(img, myModelPath)\n'})}),"\n",(0,s.jsxs)(r.h2,{id:"paddleocrimg-cputhreadnum4-useslimtrue",children:["paddle.ocr(img[, cpuThreadNum=4, useSlim=true])",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#paddleocrimg-cputhreadnum4-useslimtrue",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"cpuThreadNum"})," {Number} 识别使用的 CPU 核心数量"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"useSlim"})," {Boolean} 加载的模型,可选值:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"true"})," ocr_v2_for_cpu(slim) :快速模型,默认"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"false"})," ocr_v2_for_cpu : 精准模型"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"return"})," {Array}"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"高精度识别，返回值包含坐标，置信度"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",children:"let res = paddle.ocr(img);\ntoastLog(JSON.stringify(res));\n"})}),"\n",(0,s.jsx)(r.p,{children:"返回值示例"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",children:'[\n    {\n        "bounds": {\n            "bottom": 535,\n            "left": 348,\n            "right": 631,\n            "top": 384\n        },\n        "confidence": 0.9808736,\n        "inferenceTime": 188.0,\n        "preprocessTime": 53.0,\n        "text": "约定",\n        "words": "约定"\n    }\n]\n'})}),"\n",(0,s.jsxs)(r.h2,{id:"paddleocrtextimg-cputhreadnum4-useslimtrue",children:["paddle.ocrText(img[, cpuThreadNum=4, useSlim=true])",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#paddleocrtextimg-cputhreadnum4-useslimtrue",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"cpuThreadNum"})," {Number} 识别使用的 CPU 核心数量"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"useSlim"})," {Boolean} 加载的模型,可选值:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"true"})," ocr_v2_for_cpu(slim) :快速模型,默认"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"false"})," ocr_v2_for_cpu : 精准模型"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"return"})," {Array} 字符串数组"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"只返回文本识别信息"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",children:'let res = paddle.ocrText(img);\ntoastLog("识别信息: " + JSON.stringify(res));\n//["约定","最终相遇"]\n'})}),"\n",(0,s.jsxs)(r.h2,{id:"paddlerelease",children:["paddle.release()",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#paddlerelease",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"释放 native 内存，非必要，供万一出现内存泄露时使用"}),"\n",(0,s.jsxs)(r.h1,{id:"tessract-ocr",children:["Tessract OCR",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#tessract-ocr",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"6.2.9 新增"}),"\n前往 github 下载完整例子：",(0,s.jsx)(r.a,{href:"https://github.com/wilinz/autoxjs-tessocr",target:"_blank",rel:"noopener noreferrer",children:"TessractOCR"})]}),"\n",(0,s.jsxs)(r.h1,{id:"google-ml-kit-ocr",children:["Google ML kIT OCR",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#google-ml-kit-ocr",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"6.3.4 新增"})}),"\n",(0,s.jsxs)(r.h2,{id:"gmlkitocrimglanguage",children:["gmlkit.ocr(img,Language)",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#gmlkitocrimglanguage",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"img"})," {Image} 图片"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"Language"})," {String} 识别语言，可选值为：","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"la"})," 拉丁"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"zh"})," 中文"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"sa"})," 梵文"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"ja"})," 日语"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"ko"})," 韩语"]}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://developers.google.cn/ml-kit/vision/text-recognition/v2/languages",target:"_blank",rel:"noopener noreferrer",children:"更多语言"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"retrun"})," {Object} Json"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-JS",children:'//识别中文\nlet result = gmlkit.ocr(img, "zh");\nlog(result.text)\n'})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,d.ah)(),e.components);return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}let c=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["v1%2F%E9%AB%98%E7%BA%A7%2Focr.md"]={toc:[{text:"paddle.ocr(img, path)",id:"paddleocrimg-path",depth:2},{text:"paddle.ocr(img[, cpuThreadNum=4, useSlim=true])",id:"paddleocrimg-cputhreadnum4-useslimtrue",depth:2},{text:"paddle.ocrText(img[, cpuThreadNum=4, useSlim=true])",id:"paddleocrtextimg-cputhreadnum4-useslimtrue",depth:2},{text:"paddle.release()",id:"paddlerelease",depth:2},{text:"gmlkit.ocr(img,Language)",id:"gmlkitocrimglanguage",depth:2}],title:"Google ML kIT OCR",headingTitle:"Google ML kIT OCR",frontmatter:{}}}}]);